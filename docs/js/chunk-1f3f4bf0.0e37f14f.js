(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f3f4bf0"],{"043a":function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return o}),n.d(e,"c",function(){return u});n("f499");var r=n("795b"),i=n.n(r),s=n("ed08");function a(){return new i.a(function(t,e){window.web3.eth.getGasPrice(function(e,n){e?console.error(e):t(n)})})}function o(t){return new i.a(function(e,n){window.web3.eth.estimateGas(t,function(t,n){t?console.error(t):e(n)})})}function u(t){return new i.a(function(e,n){window.web3.eth.getTransactionCount(t,function(t,n){t?console.error(t):e(Object(s["d"])(n))})})}},"5b7b":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-card",[n("v-card-title",{attrs:{"primary-title":""}},[n("h3",{staticClass:"headline mb-0"},[t._v("用 abi 获取 data")])]),n("v-container",{attrs:{"grid-list-md":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:""}},[n("v-flex",{attrs:{xs7:"",sm10:""}},[n("v-text-field",{attrs:{label:"amount"},model:{value:t.amount,callback:function(e){t.amount=e},expression:"amount"}})],1),n("v-flex",{attrs:{xs2:"",sm2:""}},[n("v-btn",{attrs:{color:"blue",dark:""},on:{click:t.write}},[t._v("写数据")])],1)],1)],1),t.tx?n("v-card-text",[n("p",{staticStyle:{"word-break":"break-all"}},[t._v("TxHash："+t._s(t.tx))])]):t._e()],1)],1)},i=[],s=(n("6b54"),n("96cf"),n("3b8d")),a=n("bac7"),o=n.n(a),u=n("81ad"),c=n.n(u),h=n("6311"),f=(n("ed08"),n("043a")),d={created:function(){this.getWeb3(),this.setContract()},data:function(){return{amount:.001,isMetamask:!1,casinoContract:void 0,casino:void 0,tx:"",address:""}},methods:{getWeb3:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!window.ethereum){t.next=15;break}return window.web3=new o.a(ethereum),t.prev=2,t.next=5,ethereum.enable();case 5:this.address=t.sent,this.isMetamask=!0,t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](2),console.log(t.t0),this.isMetamask=!1;case 13:t.next=16;break;case 15:if(window.web3)try{window.web3=new o.a(web3.currentProvider),this.isMetamask=!0}catch(e){alert(e),this.isMetamask=!1}else console.log("Non-Ethereum browser detected. You should consider trying MetaMask!"),this.isMetamask=!1;case 16:case"end":return t.stop()}},t,this,[[2,9]])}));function e(){return t.apply(this,arguments)}return e}(),setContract:function(){this.casinoContract=window.web3.eth.contract(h["a"]),this.casino=this.casinoContract.at(h["b"]),console.log("Set Contract!")},write:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,n,r,i,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.isMetamask){t.next=11;break}return t.next=3,Object(f["b"])();case 3:return e=t.sent,n="0x"+c.a.simpleEncode("bet(uint256)",1).toString("hex"),r={gasPrice:e,value:window.web3.toWei(this.amount,"ether"),from:this.address[0],data:n,to:h["b"]},t.next=8,Object(f["a"])(r);case 8:i=t.sent,r.gas=i,this.casino.bet(1,r,function(t,e,n){t?console.error(t):s.tx=e});case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},l=d,w=n("2877"),p=Object(w["a"])(l,r,i,!1,null,null,null);e["default"]=p.exports},6311:function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i});var r=[{constant:!0,inputs:[],name:"getBalance",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"amount",type:"uint256"}],name:"withdraw",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[],name:"kill",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_number",type:"uint256"}],name:"bet",outputs:[],payable:!0,stateMutability:"payable",type:"function"},{constant:!0,inputs:[],name:"houseEdge",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{inputs:[{name:"_minBet",type:"uint256"},{name:"_houseEdge",type:"uint256"}],payable:!0,stateMutability:"payable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,name:"_status",type:"bool"},{indexed:!1,name:"_amount",type:"uint256"}],name:"Won",type:"event"}],i="0x39EFaFde0B067F4021697Be98C0c3bBf7dC8B83c"},"81ad":function(t,e,n){t.exports=n("eaf3")},eaf3:function(t,e,n){(function(e){const r=n("b671"),i=n("399f");var s=function(){};function a(t){return t.startsWith("int[")?"int256"+t.slice(3):"int"===t?"int256":t.startsWith("uint[")?"uint256"+t.slice(4):"uint"===t?"uint256":t.startsWith("fixed[")?"fixed128x128"+t.slice(5):"fixed"===t?"fixed128x128":t.startsWith("ufixed[")?"ufixed128x128"+t.slice(6):"ufixed"===t?"ufixed128x128":t}function o(t){return parseInt(/^\D+(\d+)$/.exec(t)[1],10)}function u(t){var e=/^\D+(\d+)x(\d+)$/.exec(t);return[parseInt(e[1],10),parseInt(e[2],10)]}function c(t){var e=t.match(/(.*)\[(.*?)\]$/);return e?""===e[2]?"dynamic":parseInt(e[2],10):null}function h(t){var e=typeof t;if("string"===e)return r.isHexPrefixed(t)?new i(r.stripHexPrefix(t),16):new i(t,10);if("number"===e)return new i(t);if(t.toArray)return t;throw new Error("Argument is not a number")}function f(t){var e=/^(\w+)\((.+)\)$/.exec(t);if(3!==e.length)throw new Error("Invalid method signature");var n=/^(.+)\):\((.+)$/.exec(e[2]);return null!==n&&3===n.length?{method:e[1],args:n[1].split(","),retargs:n[2].split(",")}:{method:e[1],args:e[2].split(",")}}function d(t,n){var s,a,f,l;if("address"===t)return d("uint160",h(n));if("bool"===t)return d("uint8",n?1:0);if("string"===t)return d("bytes",new e(n,"utf8"));if(b(t)){if("undefined"===typeof n.length)throw new Error("Not an array?");if(s=c(t),"dynamic"!==s&&0!==s&&n.length>s)throw new Error("Elements exceed array size: "+s);for(l in f=[],t=t.slice(0,t.lastIndexOf("[")),"string"===typeof n&&(n=JSON.parse(n)),n)f.push(d(t,n[l]));if("dynamic"===s){var w=d("uint256",n.length);f.unshift(w)}return e.concat(f)}if("bytes"===t)return n=new e(n),f=e.concat([d("uint256",n.length),n]),n.length%32!==0&&(f=e.concat([f,r.zeros(32-n.length%32)])),f;if(t.startsWith("bytes")){if(s=o(t),s<1||s>32)throw new Error("Invalid bytes<N> width: "+s);return r.setLengthRight(n,32)}if(t.startsWith("uint")){if(s=o(t),s%8||s<8||s>256)throw new Error("Invalid uint<N> width: "+s);if(a=h(n),a.bitLength()>s)throw new Error("Supplied uint exceeds width: "+s+" vs "+a.bitLength());if(a<0)throw new Error("Supplied uint is negative");return a.toArrayLike(e,"be",32)}if(t.startsWith("int")){if(s=o(t),s%8||s<8||s>256)throw new Error("Invalid int<N> width: "+s);if(a=h(n),a.bitLength()>s)throw new Error("Supplied int exceeds width: "+s+" vs "+a.bitLength());return a.toTwos(256).toArrayLike(e,"be",32)}if(t.startsWith("ufixed")){if(s=u(t),a=h(n),a<0)throw new Error("Supplied ufixed is negative");return d("uint256",a.mul(new i(2).pow(new i(s[1]))))}if(t.startsWith("fixed"))return s=u(t),d("int256",h(n).mul(new i(2).pow(new i(s[1]))));throw new Error("Unsupported or invalid type: "+t)}function l(t,n,r){var s,a,o,u;if("string"===typeof t&&(t=w(t)),"address"===t.name)return l(t.rawType,n,r).toArrayLike(e,"be",20).toString("hex");if("bool"===t.name)return l(t.rawType,n,r).toString()===new i(1).toString();if("string"===t.name){var c=l(t.rawType,n,r);return new e(c,"utf8").toString()}if(t.isArray){for(o=[],s=t.size,"dynamic"===t.size&&(r=l("uint256",n,r).toNumber(),s=l("uint256",n,r).toNumber(),r+=32),u=0;u<s;u++){var h=l(t.subArray,n,r);o.push(h),r+=t.subArray.memoryUsage}return o}if("bytes"===t.name)return r=l("uint256",n,r).toNumber(),s=l("uint256",n,r).toNumber(),n.slice(r+32,r+32+s);if(t.name.startsWith("bytes"))return n.slice(r,r+t.size);if(t.name.startsWith("uint")){if(a=new i(n.slice(r,r+32),16,"be"),a.bitLength()>t.size)throw new Error("Decoded int exceeds width: "+t.size+" vs "+a.bitLength());return a}if(t.name.startsWith("int")){if(a=new i(n.slice(r,r+32),16,"be").fromTwos(256),a.bitLength()>t.size)throw new Error("Decoded uint exceeds width: "+t.size+" vs "+a.bitLength());return a}if(t.name.startsWith("ufixed")){if(s=new i(2).pow(new i(t.size[1])),a=l("uint256",n,r),!a.mod(s).isZero())throw new Error("Decimals not supported yet");return a.div(s)}if(t.name.startsWith("fixed")){if(s=new i(2).pow(new i(t.size[1])),a=l("int256",n,r),!a.mod(s).isZero())throw new Error("Decimals not supported yet");return a.div(s)}throw new Error("Unsupported or invalid type: "+t.name)}function w(t){var e,n,r;if(b(t)){e=c(t);var i=t.slice(0,t.lastIndexOf("["));return i=w(i),n={isArray:!0,name:t,size:e,memoryUsage:"dynamic"===e?32:i.memoryUsage*e,subArray:i},n}switch(t){case"address":r="uint160";break;case"bool":r="uint8";break;case"string":r="bytes";break}if(n={rawType:r,name:t,memoryUsage:32},t.startsWith("bytes")&&"bytes"!==t||t.startsWith("uint")||t.startsWith("int")?n.size=o(t):(t.startsWith("ufixed")||t.startsWith("fixed"))&&(n.size=u(t)),t.startsWith("bytes")&&"bytes"!==t&&(n.size<1||n.size>32))throw new Error("Invalid bytes<N> width: "+n.size);if((t.startsWith("uint")||t.startsWith("int"))&&(n.size%8||n.size<8||n.size>256))throw new Error("Invalid int/uint<N> width: "+n.size);return n}function p(t){return"string"===t||"bytes"===t||"dynamic"===c(t)}function b(t){return t.lastIndexOf("]")===t.length-1}function m(t,e){return t.startsWith("address")||t.startsWith("bytes")?"0x"+e.toString("hex"):e.toString()}function y(t){return t>="0"&&t<="9"}s.eventID=function(t,n){var i=t+"("+n.map(a).join(",")+")";return r.sha3(new e(i))},s.methodID=function(t,e){return s.eventID(t,e).slice(0,4)},s.rawEncode=function(t,n){var r=[],i=[],s=0;t.forEach(function(t){if(b(t)){var e=c(t);s+="dynamic"!==e?32*e:32}else s+=32});for(var o=0;o<t.length;o++){var u=a(t[o]),h=n[o],f=d(u,h);p(u)?(r.push(d("uint256",s)),i.push(f),s+=f.length):r.push(f)}return e.concat(r.concat(i))},s.rawDecode=function(t,n){var r=[];n=new e(n);for(var i=0,s=0;s<t.length;s++){var o=a(t[s]),u=w(o,n,i),c=l(u,n,i);i+=u.memoryUsage,r.push(c)}return r},s.simpleEncode=function(t){var n=Array.prototype.slice.call(arguments).slice(1),r=f(t);if(n.length!==r.args.length)throw new Error("Argument count mismatch");return e.concat([s.methodID(r.method,r.args),s.rawEncode(r.args,n)])},s.simpleDecode=function(t,e){var n=f(t);if(!n.retargs)throw new Error("No return values in method");return s.rawDecode(n.retargs,e)},s.stringify=function(t,e){var n=[];for(var r in t){var i=t[r],s=e[r];s=/^[^\[]+\[.*\]$/.test(i)?s.map(function(t){return m(i,t)}).join(", "):m(i,s),n.push(s)}return n},s.solidityPack=function(t,n){if(t.length!==n.length)throw new Error("Number of types are not matching the values");for(var i,s,u=[],c=0;c<t.length;c++){var f=a(t[c]),d=n[c];if("bytes"===f)u.push(d);else if("string"===f)u.push(new e(d,"utf8"));else if("bool"===f)u.push(new e(d?"01":"00","hex"));else if("address"===f)u.push(r.setLengthLeft(d,20));else if(f.startsWith("bytes")){if(i=o(f),i<1||i>32)throw new Error("Invalid bytes<N> width: "+i);u.push(r.setLengthRight(d,i))}else if(f.startsWith("uint")){if(i=o(f),i%8||i<8||i>256)throw new Error("Invalid uint<N> width: "+i);if(s=h(d),s.bitLength()>i)throw new Error("Supplied uint exceeds width: "+i+" vs "+s.bitLength());u.push(s.toArrayLike(e,"be",i/8))}else{if(!f.startsWith("int"))throw new Error("Unsupported or invalid type: "+f);if(i=o(f),i%8||i<8||i>256)throw new Error("Invalid int<N> width: "+i);if(s=h(d),s.bitLength()>i)throw new Error("Supplied int exceeds width: "+i+" vs "+s.bitLength());u.push(s.toTwos(i).toArrayLike(e,"be",i/8))}}return e.concat(u)},s.soliditySHA3=function(t,e){return r.sha3(s.solidityPack(t,e))},s.soliditySHA256=function(t,e){return r.sha256(s.solidityPack(t,e))},s.solidityRIPEMD160=function(t,e){return r.ripemd160(s.solidityPack(t,e),!0)},s.fromSerpent=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if("s"===r)e.push("bytes");else if("b"===r){var i="bytes",s=n+1;while(s<t.length&&y(t[s]))i+=t[s]-"0",s++;n=s-1,e.push(i)}else if("i"===r)e.push("int256");else{if("a"!==r)throw new Error("Unsupported or invalid type: "+r);e.push("int256[]")}}return e},s.toSerpent=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if("bytes"===r)e.push("s");else if(r.startsWith("bytes"))e.push("b"+o(r));else if("int256"===r)e.push("i");else{if("int256[]"!==r)throw new Error("Unsupported or invalid type: "+r);e.push("a")}}return e.join("")},t.exports=s}).call(this,n("b639").Buffer)}}]);